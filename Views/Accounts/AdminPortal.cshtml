@using FruityNET.DTOs
@using FruityNET.Enums

@model AdminPortalViewDTO


@{
    ViewData["Title"] = "Admin Portal";
}
<h1>Manage Users</h1>
   <table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Username</th>
      <th scope="col">First </th>
      <th scope="col">Last </th>
      <th scope="col">Email </th>
      <th scope="col">Last Active </th>
      <th scope="col"> Role</th>
    </tr>
  </thead>
  
        @foreach (var account in Model.Accounts)
{
      <tbody>
      <td>@account.Username</td>
      <td>@account.FirstName</td>
      <td>@account.LastName</td>
      <td>@account.Email</td>
      <td>@account.LastActive</td>
      <td>@account.UserType</td>
      <td>
          @if(account.UserType != UserType.Admin && account.UserType != UserType.SiteOwner)
          {
               <a class="btn btn-warning btn-sm"
                        asp-action="GrantAdminAccess"
                        asp-route-id="@account.Id">
                        Grant Admin Acesss
                </a>
          }
          else if(account.UserType == UserType.Admin)
          {
              <a class="btn btn-danger btn-sm"
                        asp-action="RevokeAdminAccess"
                        asp-route-id="@account.Id">
                        Revoke Admin Acesss
                </a>
          } 
         
      </td>
          </tbody>

      }
        </table>
   
     


 